(this["webpackJsonpadmin-ui"]=this["webpackJsonpadmin-ui"]||[]).push([[0],{173:function(e,t,a){},278:function(e,t,a){},279:function(e,t,a){},291:function(e,t,a){},292:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(49),s=a.n(r),i=a(19),l=a(18),o=a(2),d=a(5),u=a(127),b=a(0),m=Object(n.createContext)({authorities:{},logoutMethod:function(){},loggedIn:!1,token:"",expired:!0,user:""}),j=Object(n.createContext)({updateUser:function(){}}),p={jwt:"",authority:{},loggedIn:!1,expired:!0,user:""};function h(){var e=Object(n.useContext)(m);return{authority:e.authority,logoutMethod:e.logoutMethod,loggedIn:e.loggedIn,token:e.token,expired:e.expired,user:e.user}}function O(e){var t=e.children,a="RATN",c=Object(n.useState)(p),r=Object(d.a)(c,2),s=r[0],i=r[1],l=function(){if(a in localStorage){var e=localStorage.getItem(a);try{var t=Object(u.a)(e.replace("Bearer ","")),n=Date.now()>=1e3*t.exp;n&&localStorage.removeItem(a);var c=!n&&e.includes("Bearer ")&&"administrator"===t.authority;i({jwt:e,authority:t.authority,expired:n,loggedIn:c,user:t.sub})}catch(r){i(Object(o.a)(Object(o.a)({},p),{},{checkedStorage:!0}))}}};Object(n.useEffect)((function(){l()}),[]);return Object(b.jsx)(m.Provider,{value:{authorities:s.authority,logoutMethod:function(){a in localStorage&&localStorage.removeItem(a),i(p)},loggedIn:s.loggedIn,token:s.jwt,expired:s.expired,user:s.user},children:Object(b.jsx)(j.Provider,{value:{updateUser:l},children:t})})}var x=[{name:"createAdmin",displayName:"Create Admin",link:"/user/create",icon:"user-plus",forwardState:!0,state:{userType:"admin"}},{name:"viewMembers",displayName:"Members",link:"/member",icon:"users",forwardState:!1},{name:"viewUsers",displayName:"Users",link:"/user",icon:"users-cog",forwardState:!1},{name:"Create Applicant",displayName:"New Applicant",link:"/member/create",icon:"user-plus",forwardState:!1},{name:"Transaction",displayName:"Post Transaction",link:"/transaction/create",icon:"plus",forwardState:!1}],v=a(13),f=a(17),g=function(e){var t=e.data,a=Object(n.useState)({to:{},isRedirect:!1}),c=Object(d.a)(a,2),r=c[0],s=c[1];Object(n.useEffect)((function(){t.forwardState?s({to:{pathname:t.link,state:Object(o.a)({},t.state)},isRedirect:!1}):s({to:{pathname:t.link},isRedirect:!1})}),[t]);return Object(b.jsxs)("div",{className:"col-12 col-md-2 action-card text-center text-center  ",children:[r.isRedirect?Object(b.jsx)(l.a,{push:!0,to:r.to}):Object(b.jsx)("button",{className:"btn btn-primary rounded-full text-white action-btn mx-auto",onClick:function(e){e.preventDefault();var a=[];"RecentActions"in localStorage&&a.push.apply(a,Object(v.a)(JSON.parse(localStorage.getItem("RecentActions")))),a.unshift(t),a.length>5&&(a.length=5),localStorage.setItem("RecentActions",JSON.stringify(a)),s(Object(o.a)(Object(o.a)({},r),{},{isRedirect:!0}))},children:Object(b.jsx)(f.a,{icon:t.icon,size:"lg"})}),Object(b.jsx)("div",{className:"action-content text-center fs-5 ",children:t.displayName})]})},N=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),a=t[0],c=t[1],r=Object(n.useRef)();return Object(n.useEffect)((function(){"RecentActions"in localStorage?c(JSON.parse(localStorage.getItem("RecentActions"))):c(x.slice(0,5))}),[]),Object(b.jsxs)("div",{className:" p-4 container rounded-3",children:[Object(b.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(b.jsx)("div",{children:Object(b.jsx)("h2",{className:"fs-3 fw-normal",children:"Recently Used"})}),Object(b.jsx)("button",{type:"button",className:"btn btn-primary rounded-circle rotate","data-bs-toggle":"collapse","data-bs-target":"#recentActionsMenu","aria-expanded":"false","aria-controls":"recentActionsMenu",ref:r,onClick:function(){r.current.classList.toggle("rotate-180")},children:Object(b.jsx)(f.a,{icon:"chevron-up"})})]}),Object(b.jsx)("div",{className:"collapse show pt-2 mb-3",id:"recentActionsMenu",children:Object(b.jsx)("div",{className:"row gap-4 gap-md-0 justify-content-between  action-container",children:a.map((function(e,t){return Object(b.jsx)(g,{data:e},t)}))})})]})},y=function(){var e=Object(n.useRef)(),t=function(e){var t=e.target.getAttribute("data-value"),a=x[t],n=[];"RecentActions"in localStorage&&n.push.apply(n,Object(v.a)(JSON.parse(localStorage.getItem("RecentActions")))),0===n.filter((function(e){return e.name===a.name})).length&&n.unshift(a),n.length>5&&(n.length=5),localStorage.setItem("RecentActions",JSON.stringify(n))};return Object(b.jsxs)("div",{className:"p-4 container rounded-3",children:[Object(b.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(b.jsx)("div",{children:Object(b.jsx)("h2",{className:"fs-3 fw-normal",children:"All Tasks"})}),Object(b.jsx)("button",{type:"button",className:"btn btn-primary rounded-circle rotate","data-bs-toggle":"collapse","data-bs-target":"#allActionsMenu","aria-expanded":"false","aria-controls":"allActionsMenu",ref:e,onClick:function(){e.current.classList.toggle("rotate-180")},children:Object(b.jsx)(f.a,{icon:"chevron-up",rotation:180})})]}),Object(b.jsx)("div",{className:"collapse pt-2",id:"allActionsMenu",children:Object(b.jsx)("div",{className:"row",children:x.map((function(e,a){return Object(b.jsx)(i.b,{className:"col-12 col-md-6","data-value":a,to:{pathname:e.link,state:null===e||void 0===e?void 0:e.state},onClick:t,children:e.displayName},a)}))})})]})},w=a(16),S=function(){var e=h().user;return Object(b.jsxs)("div",{"data-testid":"homepage",className:"w-100",children:[Object(b.jsxs)(w.a,{children:[Object(b.jsx)("title",{children:"Dashboard | Aline Financial"}),Object(b.jsx)("meta",{name:"description",content:"Dashboard for Aline Financial"})]}),Object(b.jsxs)("div",{className:"w-75 mx-auto",children:[Object(b.jsxs)("h1",{className:"fw-normal fs-2 mt-5 ",children:["Welcome back ",e,"! "]}),Object(b.jsxs)("div",{children:[Object(b.jsx)(N,{}),Object(b.jsx)("hr",{className:"bg-dark mt-2"}),Object(b.jsx)(y,{})]})]})]})},A=a(3),C=a.n(A),k=a(8),M=a(22),I=a(131),E=a.n(I),T=localStorage.getItem("RATN"),R=E.a.create({baseURL:"".concat("http://localhost:8080")});R.interceptors.request.use((function(e){return e.url.includes("api")&&(e.headers.Authorization=T),e}),(function(e){return Promise.reject(e)}));var P=R,D={User:{login:function(){var e=Object(k.a)(C.a.mark((function e(t){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.post("/api/login",t);case 3:return 200===(a=e.sent).status&&localStorage.setItem("RATN",a.headers.authorization),e.abrupt("return",a);case 8:if(e.prev=8,e.t0=e.catch(0),403!==e.t0.response.status){e.next=14;break}return e.abrupt("return",new Error("Invalid Credentials"));case 14:return e.abrupt("return",new Error("Oops! We're checking what the problem is."));case 15:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),create:function(){var e=Object(k.a)(C.a.mark((function e(t){var a,n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.post("/api/users/registration",t);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),n=(null===e.t0||void 0===e.t0||null===(a=e.t0.response)||void 0===a?void 0:a.data[0])||e.t0.message(),e.abrupt("return",new Error(n));case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),getUsers:function(){var e=Object(k.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.get("/api/users",{params:t});case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0.response);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),getUserById:function(){var e=Object(k.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.get("/api/users/".concat(t));case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0.response);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},Bank:{searchMembers:function(){var e=Object(k.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.get("/api/members",{params:Object(o.a)({},t)});case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),updateMember:function(){var e=Object(k.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.put("/api/members",t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0.response);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),getMemberByMembershipId:function(){var e=Object(k.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.get("/api/members/".concat(t));case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0.response);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},Application:{newApplicant:function(){var e=Object(k.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.post("/api/applications",t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0.message());case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},Transaction:{create:function(){var e=Object(k.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.post("/api/transactions",t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),getTransactionByAccountId:function(){var e=Object(k.a)(C.a.mark((function e(t,a){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.get("/api/accounts/".concat(t,"/transactions"),{params:{pages:a}});case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}()},Accounts:{getAccountsByMemberID:function(){var e=Object(k.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.get("/api/members/".concat(t,"/accounts"));case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0.response);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),getAccountById:function(){var e=Object(k.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.get("/api/accounts/".concat(t));case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0.response);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()}},F=function(e){var t=e.id,a=e.label,n=e.value,c=e.onChange,r=e.type;return Object(b.jsxs)("div",{className:"form-floating",children:[Object(b.jsx)("input",{type:r||"text",name:t,className:"form-control rounded-1",placeholder:a,id:t,value:n,onChange:c,"data-testid":t}),Object(b.jsx)("label",{htmlFor:t,children:a})]})},L=(a(173),function(){var e=Object(n.useState)({username:"",password:""}),t=Object(d.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)({visibility:"hidden",msg:""}),s=Object(d.a)(r,2),i=s[0],u=s[1],m=Object(n.useState)({Redirect:null}),j=Object(d.a)(m,2),p=j[0],h=j[1],O=function(e){c(Object(o.a)(Object(o.a)({},a),{},Object(M.a)({},e.target.name,e.target.value)))},x=function(){var e=Object(k.a)(C.a.mark((function e(t){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==a.username&&""!==a.password){e.next=4;break}return u({visibility:"",msg:"Please enter credentials."}),e.abrupt("return");case 4:return e.prev=4,e.next=7,D.User.login(a);case 7:200===(n=e.sent).status?h({Redirect:"/"}):u({visibility:"",msg:n.message}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),u({visibility:"",msg:"Oops, there seems to be an error!"});case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",{className:" login ",children:[Object(b.jsxs)(w.a,{children:[Object(b.jsx)("title",{children:"Login | Aline Financial"}),Object(b.jsx)("meta",{name:"description",content:"Login page for Aline Financial"})]}),p.Redirect?Object(b.jsx)(l.a,{to:p.Redirect}):Object(b.jsx)("div",{className:"loginCard min-vh-100 d-flex justify-content-center align-items-center ",children:Object(b.jsxs)("div",{className:"w-75 bg-white rounded-3 mx-auto p-3",children:[Object(b.jsx)("h2",{className:"text-center pt-2",children:"Login"}),Object(b.jsx)("div",{className:"text-center",children:Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"my-2",height:"40",width:"40",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),Object(b.jsxs)("form",{className:"text-center",onSubmit:x,children:[Object(b.jsx)("div",{id:"LoginError","data-testid":"loginError",className:"text-danger py-1 ".concat(i.visibility),children:i.msg}),Object(b.jsx)(F,{id:"username",value:a.username,onChange:O,label:"Username"}),Object(b.jsx)(F,{id:"password",value:a.password,onChange:O,label:"Password",type:"password"}),Object(b.jsx)("input",{type:"submit",value:"Sign in","data-testid":"loginSubmit",className:"btn btn-primary mt-3"})]})]})})]})}),q=function(){return Object(b.jsxs)("div",{className:"bg-body",children:[Object(b.jsxs)(w.a,{children:[Object(b.jsx)("title",{children:"Page Not Found"}),Object(b.jsx)("meta",{name:"description",content:"Page not found"})]}),Object(b.jsx)("h1",{className:"text-center mt-5",children:"Not Found"})]})},H=a(14),B=function(e){var t,a=e.data,n=Object(H.f)(),c=n.register,r=n.formState.errors,s=a.id,i=a.label,l=a.type,d=a.disabled;return Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"form-floating mt-2 mb-0",children:[Object(b.jsx)("input",Object(o.a)(Object(o.a)({id:s,name:s,type:l,className:"form-control rounded-1"},c(s)),{},{placeholder:i,disabled:d})),Object(b.jsx)("label",{htmlFor:s,children:i})]}),Object(b.jsx)("p",{className:"text-danger small mt-1 text-start",children:null===(t=r[s])||void 0===t?void 0:t.message})]})},U=function(e){var t,a=e.data,c=Object(H.f)(),r=c.register,s=c.formState.errors,i=a.id,l=a.label,u=Object(n.useState)(""),m=Object(d.a)(u,2),j=m[0],p=m[1];return Object(b.jsx)("div",{children:Object(b.jsxs)("div",{className:"form-floating mt-2 mb-0",children:[Object(b.jsx)("input",Object(o.a)(Object(o.a)({},r(i,{required:!0})),{},{id:i,name:i,type:"tel",className:"form-control rounded-1",placeholder:l,onChange:function(e){var t=function(e){if(!e)return e;var t=e.replace(/[^\d]/g,""),a=t.length;return a<4?t:a<7?"(".concat(t.slice(0,3),") ").concat(t.slice(3)):"(".concat(t.slice(0,3),") ").concat(t.slice(3,6),"-").concat(t.slice(6,10))}(e.target.value);p(t)},value:j})),Object(b.jsx)("label",{htmlFor:i,children:l}),Object(b.jsx)("p",{className:"text-danger small mt-1 text-start",children:null===(t=s[i])||void 0===t?void 0:t.message})]})})},z=function(e){var t,a=e.data,n=Object(H.f)(),c=n.register,r=n.formState.errors,s=a.id,i=a.label;return Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"form-floating mt-2 mb-0",children:[Object(b.jsx)("input",Object(o.a)(Object(o.a)({id:s,name:s,type:"email"},c(s)),{},{placeholder:i,className:"form-control rounded-1 bg-white"})),Object(b.jsx)("label",{htmlFor:s,children:i})]}),Object(b.jsx)("p",{className:"text-danger small mt-1 text-start",children:null===(t=r[s])||void 0===t?void 0:t.message})]})},Z=a(65),V=function(e){var t,a=e.data,n=Object(H.f)(),c=n.register,r=n.formState.errors,s=a.id,i=a.label;return Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"mt-2 mb-0 ",children:[Object(b.jsx)("input",Object(o.a)({className:"me-1 btn-check",id:s,name:s,type:"checkbox",autoComplete:"off"},c(s))),Object(b.jsx)("label",{className:"btn btn-outline-primary",htmlFor:s,children:i})]}),Object(b.jsx)("p",{className:"text-danger small mt-1 text-start",children:null===(t=r[s])||void 0===t?void 0:t.message})]})},_=function(e){var t,a=e.data,n=Object(H.f)(),c=n.register,r=n.formState.errors,s=a.id,i=a.label,l=a.options,d=a.disabled;return Object(b.jsxs)("div",{className:"form-floating",children:[Object(b.jsx)("select",Object(o.a)(Object(o.a)({className:"form-select","aria-label":s,defaultValue:l[0].value},c(s)),{},{disabled:d,children:l.map((function(e,t){return Object(b.jsx)("option",{value:e.value,children:e.name},t)}))})),Object(b.jsx)("label",{htmlFor:s,children:i}),Object(b.jsx)("p",{className:"text-danger small mt-1 text-start",children:null===(t=r[s])||void 0===t?void 0:t.message})]})},W=function(e){var t,a=e.data,c=Object(H.f)(),r=c.register,s=c.formState.errors,i=a.id,l=a.label,u=Object(n.useState)(""),m=Object(d.a)(u,2),j=m[0],p=m[1];return Object(b.jsx)("div",{children:Object(b.jsxs)("div",{className:"form-floating mt-2 mb-0",children:[Object(b.jsx)("input",Object(o.a)(Object(o.a)({},r(i,{required:!0})),{},{id:i,name:i,type:"tel",className:"form-control rounded-1",placeholder:l,onChange:function(e){var t=function(e){if(!e)return e;var t=e.replace(/[^\d]/g,""),a=t.length;return a<4?t:a<5?"".concat(t.slice(0,3),"-").concat(t.slice(3)):"".concat(t.slice(0,3),"-").concat(t.slice(3,5),"-").concat(t.slice(5,9))}(e.target.value);p(t)},value:j})),Object(b.jsx)("label",{htmlFor:i,children:l}),Object(b.jsx)("p",{className:"text-danger small mt-1 text-start",children:null===(t=s[i])||void 0===t?void 0:t.message})]})})},G=["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"],K=function(){var e,t,a,c,r,s,i,l,u=Object(H.f)(),m=u.register,j=u.formState.errors,p=Object(n.useState)({address:"",city:"",state:"",zipcode:""}),h=Object(d.a)(p,2),O=h[0],x=h[1],v=Object(n.useState)({mailingAddress:"",mailingCity:"",mailingState:"",mailingZipcode:""}),f=Object(d.a)(v,2),g=f[0],N=f[1],y=Object(n.useState)(!1),w=Object(d.a)(y,2),S=w[0],A=w[1],C=function(e){var t=e.target.id;if(S){x(Object(o.a)(Object(o.a)({},O),{},Object(M.a)({},t,e.target.value)));var a="mailing"+(t.charAt(0).toUpperCase()+t.slice(1));N(Object(o.a)(Object(o.a)({},g),{},Object(M.a)({},a,e.target.value)))}else x(Object(o.a)(Object(o.a)({},O),{},Object(M.a)({},t,e.target.value)))},k=function(e){var t=e.target.id;N(Object(o.a)(Object(o.a)({},g),{},Object(M.a)({},t,e.target.value)))},I=m("mailingAddress"),E=m("mailingCity"),T=m("mailingState"),R=m("mailingZipcode");return Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"form-floating mt-2 mb-0",children:[Object(b.jsx)("input",Object(o.a)(Object(o.a)({},m("address")),{},{id:"address",name:"address",type:"text",className:"form-control rounded-1",placeholder:"Address",value:O.address,onChange:C})),Object(b.jsx)("label",{htmlFor:"address",children:"Address"})]}),Object(b.jsx)("p",{className:"text-danger small mt-1 text-start",children:null===j||void 0===j||null===(e=j.address)||void 0===e?void 0:e.message})]}),Object(b.jsxs)("div",{className:"row align-items-center",children:[Object(b.jsxs)("div",{className:"col-md",children:[Object(b.jsxs)("div",{className:"form-floating mt-2 mb-0",children:[Object(b.jsx)("input",Object(o.a)(Object(o.a)({id:"city",name:"city",type:"text",className:"form-control rounded-1"},m("city")),{},{placeholder:"City",value:O.city,onChange:C})),Object(b.jsx)("label",{htmlFor:"city",children:"City"})]}),Object(b.jsx)("p",{className:"text-danger small mt-1 text-start",children:null===j||void 0===j||null===(t=j.city)||void 0===t?void 0:t.message})]}),Object(b.jsxs)("div",{className:"col-md",children:[Object(b.jsxs)("div",{className:"form-floating",children:[Object(b.jsxs)("select",Object(o.a)(Object(o.a)({className:"form-select ","aria-label":"state",name:"state",id:"state"},m("state")),{},{value:O.state,onChange:C,children:[Object(b.jsx)("option",{children:"Select"}),G.map((function(e){return Object(b.jsx)("option",{value:e,children:e},e)}))]})),Object(b.jsx)("label",{htmlFor:"state",children:"State"})]}),Object(b.jsx)("p",{className:"text-danger small mt-1 text-start",children:null===j||void 0===j||null===(a=j.state)||void 0===a?void 0:a.message})]}),Object(b.jsxs)("div",{className:"col-md",children:[Object(b.jsxs)("div",{className:"form-floating mt-2 mb-0",children:[Object(b.jsx)("input",Object(o.a)(Object(o.a)({id:"zipcode",name:"zipcode",type:"number",className:"form-control rounded-1"},m("zipcode")),{},{placeholder:"Zipcode",value:O.zipcode,onChange:C})),Object(b.jsx)("label",{htmlFor:"zipcode",children:"Zipcode"})]}),Object(b.jsx)("p",{className:"text-danger small mt-1 text-start",children:null===j||void 0===j||null===(c=j.zipcode)||void 0===c?void 0:c.message})]})]}),Object(b.jsx)("div",{className:"row",children:Object(b.jsxs)("div",{className:"mt-2 mb-3 ",children:[Object(b.jsx)("input",{className:"me-1 btn-check",id:"isSameAsMailing",name:"isSameAsMailing",type:"checkbox",autoComplete:"off",onClick:function(){S||N({mailingAddress:O.address,mailingCity:O.city,mailingState:O.state,mailingZipcode:O.zipcode}),A(!S)}}),Object(b.jsx)("label",{className:"btn btn-outline-secondary",htmlFor:"isSameAsMailing",children:"Same Mailing Address?"})]})}),Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"form-floating mt-2 mb-0",children:[Object(b.jsx)("input",Object(o.a)(Object(o.a)({id:"mailingAddress",name:"mailingAddress",type:"text",className:"form-control rounded-1",placeholder:"Mailing Address",value:g.mailingAddress},I),{},{onChange:function(e){I.onChange(e),k(e)},disabled:S})),Object(b.jsx)("label",{htmlFor:"address",children:"Mailing Address"})]}),Object(b.jsx)("p",{className:"text-danger small mt-1 text-start",children:null===j||void 0===j||null===(r=j.mailingAddress)||void 0===r?void 0:r.message})]}),Object(b.jsxs)("div",{className:"row align-items-center",children:[Object(b.jsxs)("div",{className:"col-md",children:[Object(b.jsxs)("div",{className:"form-floating mt-2 mb-0",children:[Object(b.jsx)("input",Object(o.a)(Object(o.a)({id:"mailingCity",name:"mailingCity",type:"text",className:"form-control rounded-1",placeholder:"Mailing City",value:g.mailingCity},E),{},{onChange:function(e){E.onChange(e),k(e)},disabled:S})),Object(b.jsx)("label",{htmlFor:"mailingCity",children:"Mailing City"})]}),Object(b.jsx)("p",{className:"text-danger small mt-1 text-start",children:null===j||void 0===j||null===(s=j.mailingCity)||void 0===s?void 0:s.message})]}),Object(b.jsxs)("div",{className:"col-md",children:[Object(b.jsxs)("div",{className:"form-floating",children:[Object(b.jsxs)("select",Object(o.a)(Object(o.a)({className:"form-select","aria-label":"mailingState",name:"mailingState",id:"mailingState",value:g.mailingState},T),{},{onChange:function(e){T.onChange(e),k(e)},disabled:S,children:[Object(b.jsx)("option",{children:"Select"}),G.map((function(e){return Object(b.jsx)("option",{value:e,children:e},e)}))]})),Object(b.jsx)("label",{htmlFor:"mailingState",children:"Mailing State"})]}),Object(b.jsx)("p",{className:"text-danger small mt-1 text-start",children:null===j||void 0===j||null===(i=j.mailingState)||void 0===i?void 0:i.message})]}),Object(b.jsxs)("div",{className:"col-md",children:[Object(b.jsxs)("div",{className:"form-floating mt-2 mb-0",children:[Object(b.jsx)("input",Object(o.a)(Object(o.a)({id:"mailingZipcode",name:"mailingZipcode",type:"number",className:"form-control rounded-1",placeholder:"Mailing Zipcode",value:g.mailingZipcode},R),{},{onChange:function(e){R.onChange(e),k(e)},disabled:S})),Object(b.jsx)("label",{htmlFor:"zipcode",children:"Mailing Zipcode"})]}),Object(b.jsx)("p",{className:"text-danger small mt-1 text-start",children:null===j||void 0===j||null===(l=j.mailingZipcode)||void 0===l?void 0:l.message})]})]})]})]})},$=function(e){var t=e.data,a=Object(H.f)().register,c=Object(n.useState)(0),r=Object(d.a)(c,2),s=r[0],i=r[1],l=t.id,u=t.label;return Object(b.jsxs)("div",{className:"input-group w-100",children:[Object(b.jsx)("span",{className:"input-group-text mt-2",children:"$"}),Object(b.jsxs)("div",{className:"form-floating mt-2 mb-0 flex-grow-1 ",children:[Object(b.jsx)("input",Object(o.a)(Object(o.a)({id:l,name:l,type:"number",className:"form-control rounded-1"},a(l)),{},{placeholder:u,onChange:function(e){var t=function(e){if(!e.includes("."))return Number(e);var t=e.substring(e.indexOf(".")+1);return console.log(t),e.includes(".")&&1===t.length||e.includes(".")&&t.length>1?Number(e).toFixed(2):void 0}(e.target.value);i(t)},value:s})),Object(b.jsx)("label",{htmlFor:l,children:u})]})]})},J=function(e){var t=e.data;return Object(b.jsx)("h3",{className:"text-md-start my-4 text-decoration-underline",children:t.label})},Q=function(e){var t,a=e.data,n=Object(H.f)(),c=n.register,r=n.formState.errors,s=a.id,i=a.label,l=a.type;return Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"form-floating mt-2 mb-0",children:[Object(b.jsx)("input",Object(o.a)(Object(o.a)({id:s,name:s,type:l,className:"form-control rounded-1 text-uppercase"},c(s)),{},{placeholder:i})),Object(b.jsx)("label",{htmlFor:s,children:i})]}),Object(b.jsx)("p",{className:"text-danger small mt-1 text-start",children:null===(t=r[s])||void 0===t?void 0:t.message})]})},Y=function(e){var t=e.data.label;return Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{className:"display-5 ",children:t}),Object(b.jsx)("hr",{className:"mb-5"})]})},X=function(e){var t=e.data,a=e.onSubmit,n=e.validationSchema,c=e.children,r=Object(H.e)({resolver:Object(Z.a)(n),criteriaMode:"all",mode:"all",reValidateMode:"onChange"});return Object(b.jsx)(H.a,Object(o.a)(Object(o.a)({},r),{},{children:Object(b.jsxs)("form",{onSubmit:r.handleSubmit(a),className:"text-center bg-white mt-3 mb-5 rounded-3 shadow p-3",noValidate:!0,children:[t.map((function(e,t){switch(e.type){case"date":case"number":case"password":case"text":return Object(b.jsx)(B,{data:e},e.id);case"phone":return Object(b.jsx)(U,{data:e},e.id);case"email":return Object(b.jsx)(z,{data:e},e.id);case"checkbox":return Object(b.jsx)(V,{data:e},e.id);case"select":return Object(b.jsx)(_,{data:e},e.id);case"ssn":return Object(b.jsx)(W,{data:e},e.id);case"addressWithMailingOption":return Object(b.jsx)(K,{data:e},t);case"income":return Object(b.jsx)($,{data:e},e.id);case"sectionHeader":return Object(b.jsx)(J,{data:e},t);case"UppercaseText":return Object(b.jsx)(Q,{data:e},e.id);case"title":return Object(b.jsx)(Y,{data:e},e.id);default:return Object(b.jsx)("div",{children:"Need to create type for Form component"},t)}})),c,Object(b.jsx)("input",{type:"submit",className:"btn btn-primary "})]})}))},ee=a(9),te=new Date;te.setFullYear(te.getFullYear()-17);var ae={applicationType:Object(ee.d)().label("Application Type").required("Application type is required").matches(/(CHECKING|SAVINGS|CHECKING_AND_SAVINGS|CREDIT_CARD|LOAN)/,(function(e){return"'".concat(e.value,"' is not valid application type.")})),email:Object(ee.d)().label("Email").required().email((function(e){return"'".concat(e.value,"' is not a valid email address.")})),firstName:Object(ee.d)().label("First Name").required().matches(/^[aA-zZ\s-]+$/,(function(e){return"'".concat(e.value,"' is not a valid name.")})),middleName:Object(ee.d)().label("Middle Name").matches(/^[aA-zZ\s-]+$/,(function(e){return"'".concat(e.value,"' is not a valid middle name.")})).nullable(!0).transform((function(e){return""===e?null:e})),lastName:Object(ee.d)().label("Last Name").required().matches(/^[aA-zZ\s-]+$/,(function(e){return"'".concat(e.value,"' is not a valid name.")})),gender:Object(ee.d)().label("Gender").required("Please select a gender.").matches(/(MALE|FEMALE|OTHER|UNSPECIFIED)/,"Please select a gender."),dateOfBirth:Object(ee.a)().label("Date of Birth").typeError("Not a valid date.").transform((function(e){return new Date(e)})).required("Date of birth is required.").max(te,"Must be at least 18 years of age."),phone:Object(ee.d)().label("Phone Number").required().matches(/\(\d{3}\)[\s-.]\d{3}[\s-.]\d{4}/,(function(e){return"'".concat(e.value,"' is not a valid phone number.")})),address:Object(ee.d)().label("Address").required("Address is required.").matches(/^([0-9]+([a-zA-Z]+)?)\s(.*)(\s)([a-zA-Z]+)(\.)?(\s(#?(\w+))|([A-Za-z]+\.?(\w+)))?$/i,(function(e){return"'".concat(e.value,"' is not a valid address.")})),city:Object(ee.d)().label("City").required("City is required."),state:Object(ee.d)().label("State").required("State is required."),zipcode:Object(ee.d)().label("Zipcode").required("Zipcode is required.").matches(/^\d{5}(-\d{4})?$/,(function(e){return"'".concat(e.value,"' is not a valid zipcode.")})),sameAsBilling:Object(ee.d)().matches(/(true|false)/i).required("Please select an option."),mailingAddress:Object(ee.d)().label("Mailing Address").transform((function(e){return e.length<=0?void 0:e})).when("sameAsBilling",{is:"false",then:Object(ee.d)().matches(/^(((PO|P O|P.O)\.?\s(Box)\s([0-9]+))|(([0-9]+([a-zA-Z]+)?)\s(.*)(\s)([a-zA-Z]+)(\.)?(\s(#?(\w+))|([A-Za-z]+\.?(\w+)))?))$/i,(function(e){return"'".concat(e.value,"' is not a valid address.")})).required("Address is required."),otherwise:Object(ee.d)().notRequired()}),mailingCity:Object(ee.d)().label("Mailing City").transform((function(e){return e.length<=0?void 0:e})).when("sameAsBilling",{is:"false",then:Object(ee.d)().required("City is required.")}),mailingState:Object(ee.d)().label("Mailing State").transform((function(e){return e.length<=0?void 0:e})).when("sameAsBilling",{is:"false",then:Object(ee.d)().required("State is required.")}),mailingZipcode:Object(ee.d)().label("Mailing Zipcode").transform((function(e){return e.length<=0?void 0:e})).matches(/^\d{5}(-\d{4})?$/,(function(e){return"".concat(e.value," is not a valid zipcode.")})).when("sameAsBilling",{is:"false",then:Object(ee.d)().required("Zipcode is required.")}),driversLicense:Object(ee.d)().label("Driver's License").required(),socialSecurity:Object(ee.d)().label("Social Security").required().matches(/(\d{3})-(\d{2})-(\d{4})/,(function(e){return"".concat(e.value," is not a valid social security number.")})),incomeFrequency:Object(ee.d)().label("Income Frequency").required().default("Annually").matches(/(Annually|Monthly|Bi-Weekly|Weekly|Hourly)/i),income:Object(ee.b)().label("Income").typeError("Income must be number").positive("Cannot have negative income.").min(.01,"Income must be greater than $0.01").required("Income is required."),initialDeposit:Object(ee.b)().positive("Cannot have a negative deposit.").label("Initial Deposit").required("An initial deposit is required."),username:Object(ee.d)().label("Username").required(),password:Object(ee.d)().label("Password").matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/,"Invalid password").required(),searchId:Object(ee.b)().label("Searchable Id").transform((function(e){return isNaN(e)?null:e})).nullable(!0),searchName:Object(ee.d)().label("Searchable name").nullable(!0).transform((function(e){return""===e?null:e})),searchAmount:Object(ee.b)().label("Search Amount").typeError("Search amount must be a number").transform((function(e){return isNaN(e)?null:e})).nullable(),transactionType:Object(ee.d)().label("Transaction Type").required(),transactionMethod:Object(ee.d)().label("Transaction Method").required(),amount:Object(ee.b)().label("Amount").typeError("Amount must be a number").required(),merchantCode:Object(ee.d)().label("Merchant Code").min(4,"Merchant Code must be at least 4 characters in length").max(8,"Merchant Code cannot be greater than 8 characters in length").required(),merchantName:Object(ee.d)().label("Merchant Name").required(),accountNumber:Object(ee.d)().label("Account Number").required(),transactionDescription:Object(ee.d)().label("Transaction Description").nullable(!0)},ne=ae.firstName,ce=ae.lastName,re=ae.phone,se=ae.email,ie=ae.username,le=ae.password,oe=ee.c().shape({firstName:ne,lastName:ce,phone:re,email:se,username:ie,password:le}),de=a(61),ue=a.n(de),be=a(62),me=a.n(be),je=function(){var e=ue()(me.a),t=function(){var t=Object(k.a)(C.a.mark((function t(a){var n,c;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(o.a)(Object(o.a)({},a),{},{role:"admin"}),t.prev=1,t.next=4,D.User.create(n);case 4:if(201!==(c=t.sent).status){t.next=10;break}return t.next=8,e.fire({title:Object(b.jsx)("strong",{children:"Success"}),html:Object(b.jsx)("p",{children:"Admin user created"}),icon:"success"});case 8:t.next=12;break;case 10:return t.next=12,e.fire({title:Object(b.jsx)("strong",{children:"Oops!"}),html:Object(b.jsx)("p",{children:c.message||"We're checking out what went wrong"}),icon:"error"});case 12:t.next=18;break;case 14:return t.prev=14,t.t0=t.catch(1),t.next=18,e.fire({title:Object(b.jsx)("strong",{children:"Oops!"}),html:Object(b.jsx)("p",{children:"Please check your network"}),icon:"error",showConfirmButton:!1,timer:1500});case 18:case"end":return t.stop()}}),t,null,[[1,14]])})));return function(e){return t.apply(this,arguments)}}();return Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{className:"display-5 mb-3 mt-5",children:"Create an Admin"}),Object(b.jsx)("hr",{className:"mb-5"}),Object(b.jsx)(X,{data:[{id:"firstName",type:"text",label:"First Name"},{id:"lastName",type:"text",label:"Last name"},{id:"username",type:"text",label:"Username"},{id:"password",type:"password",label:"Password"},{id:"phone",type:"phone",label:"Phone"},{id:"email",type:"email",label:"Email"}],onSubmit:t,validationSchema:oe})]})},pe=function(){var e=Object(n.useState)(),t=Object(d.a)(e,2),a=t[0],c=t[1],r=Object(l.g)();return Object(n.useEffect)((function(){var e;if(null===r||void 0===r||null===(e=r.state)||void 0===e?void 0:e.userType)switch(r.state.userType){case"admin":c(Object(b.jsx)(je,{}))}else c(Object(b.jsx)("div",{className:"display-4 mt-4",children:"Unable to create user please go to the Users page"}))}),[r]),Object(b.jsxs)("div",{className:"w-75 mx-auto",children:[Object(b.jsxs)(w.a,{children:[Object(b.jsx)("title",{children:"Add User"}),Object(b.jsx)("meta",{name:"description",content:"Create user"})]}),a]})},he=ae.firstName,Oe=ae.middleName,xe=ae.lastName,ve=ae.dateOfBirth,fe=ae.gender,ge=ae.email,Ne=ae.phone,ye=ae.socialSecurity,we=ae.driversLicense,Se=ae.income,Ae=ae.address,Ce=ae.city,ke=ae.state,Me=ae.zipcode,Ie=ae.mailingAddress,Ee=ae.mailingCity,Te=ae.mailingState,Re=ae.mailingZipcode,Pe=ee.c().shape({firstName:he,middleName:Oe,lastName:xe,dateOfBirth:ve,gender:fe,email:ge,phone:Ne,socialSecurity:ye,driversLicense:we,income:Se,address:Ae,city:Ce,state:ke,zipcode:Me,mailingAddress:Ie,mailingCity:Ee,mailingState:Te,mailingZipcode:Re}),De=function(){var e=ue()(me.a),t=function(){var t=Object(k.a)(C.a.mark((function t(a){var n,c,r,s,i,l,d,u,m;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=a.dateOfBirth,i=s.toISOString().slice(0,10),l={mailingAddress:""===a.mailingAddress?a.address:a.mailingAddress,mailingCity:null!==(n=a.mailingCity)&&void 0!==n?n:a.city,mailingState:"Select"===a.mailingState?a.state:a.mailingState,mailingZipcode:null!==(c=a.mailingZipcode)&&void 0!==c?c:a.zipcode},d=100*a.income,u={applicationType:a.applicationType,applicants:[Object(o.a)(Object(o.a)({},a),{},{income:d,dateOfBirth:i},l)]},null===(r=u.applicants[0])||void 0===r||delete r.applicationType,t.prev=6,console.log("applicant Request: ",u),t.next=10,D.Application.newApplicant(u);case 10:if(201!==(m=t.sent).status){t.next=16;break}return t.next=14,e.fire({title:Object(b.jsx)("strong",{children:"Success"}),html:Object(b.jsx)("p",{children:"Applicant approved"}),icon:"success"});case 14:t.next=18;break;case 16:return t.next=18,e.fire({title:Object(b.jsx)("strong",{children:"Denied"}),html:Object(b.jsx)("p",{children:m.message||"We're checking out what went wrong"}),icon:"error"});case 18:t.next=24;break;case 20:return t.prev=20,t.t0=t.catch(6),t.next=24,e.fire({title:Object(b.jsx)("strong",{children:"Oops!"}),html:Object(b.jsx)("p",{children:"Please check your network"}),icon:"error",showConfirmButton:!1,timer:1500});case 24:case"end":return t.stop()}}),t,null,[[6,20]])})));return function(e){return t.apply(this,arguments)}}();return Object(b.jsxs)("div",{className:"w-75 mx-auto pb-5 p-3 ",children:[Object(b.jsxs)(w.a,{children:[Object(b.jsx)("title",{children:"New Applicant"}),Object(b.jsx)("meta",{name:"description",content:"New applicant form for Aline Financial"})]}),Object(b.jsx)(X,{onSubmit:t,data:[{id:"ApplicantForm",type:"title",label:"Applicant Form"},{id:"applicationType",type:"select",label:"Application Type",options:[{value:"CHECKING_AND_SAVINGS",name:"Checking & Savings"},{value:"CHECKING",name:"Checking"},{value:"SAVINGS",name:"Savings"}]},{id:"personalSection",type:"sectionHeader",label:"Personal Information"},{id:"firstName",type:"text",label:"First Name"},{id:"middleName",type:"text",label:"Middle Name"},{id:"lastName",type:"text",label:"Last name"},{id:"dateOfBirth",type:"date",label:"DOB"},{id:"gender",type:"select",label:"Gender",options:[{value:"OTHER",name:"Other"},{value:"FEMALE",name:"Female"},{value:"MALE",name:"Male"}]},{id:"socialSecurity",type:"ssn",label:"Social Security Number"},{id:"driversLicense",type:"text",label:"Drivers License"},{id:"income",type:"income",label:"Annual Income"},{id:"contactSection",type:"sectionHeader",label:"Contact Information"},{id:"email",type:"email",label:"Email"},{id:"phone",type:"phone",label:"Phone"},{id:"addressSection",type:"sectionHeader",label:"Address"},{id:"address",type:"addressWithMailingOption",label:"Address"}],validationSchema:Pe,defaultValues:{}})]})},Fe=function(e){var t=e.modalId,a=e.title,n=e.children,c=e.CustomFooter,r=function(){return Object(b.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"})};return Object(b.jsx)("div",{className:"modal fade",id:t,"data-bs-backdrop":"static","data-bs-keyboard":"false",tabIndex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:Object(b.jsx)("div",{className:"modal-dialog",children:Object(b.jsxs)("div",{className:"modal-content",children:[Object(b.jsxs)("div",{className:"modal-header",children:[Object(b.jsx)("h5",{className:"modal-title",id:"modal-title",children:a}),Object(b.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(b.jsx)("div",{className:"modal-body text-center",children:n}),Object(b.jsx)("div",{className:"modal-footer",children:c?Object(b.jsx)(c,{}):Object(b.jsx)(r,{})})]})})})},Le=function(){var e=Object(n.useState)({to:[],isRedirect:!1}),t=Object(d.a)(e,2),a=t[0],c=t[1],r=function(e){c({to:{pathname:"/user/create",state:{userType:e.target.value}},isRedirect:!0})};return Object(b.jsx)("div",{children:a.isRedirect?Object(b.jsx)(l.a,{push:!0,to:a.to}):Object(b.jsxs)("div",{children:[Object(b.jsx)("button",{className:"btn-primary btn",type:"button",value:"admin","data-bs-dismiss":"modal",onClick:r,children:"Admin"}),Object(b.jsx)("button",{className:"btn-primary btn mx-2 my-2 my-md-0",type:"button","data-bs-dismiss":"modal",value:"employee",onClick:r,children:"Employee"}),Object(b.jsx)("button",{className:"btn-primary btn",type:"button",value:"member","data-bs-dismiss":"modal",onClick:r,children:"Member"})]})})},qe=a(28),He=a(135),Be=function(e){var t=e.columns,a=e.data,n=Object(He.useTable)({columns:t,data:a}),c=n.getTableProps,r=n.getTableBodyProps,s=n.headerGroups,i=n.rows,l=n.prepareRow;return Object(b.jsxs)("table",Object(o.a)(Object(o.a)({className:"table table-striped table-hover"},c()),{},{children:[Object(b.jsx)("thead",{className:"table-dark",children:s.map((function(e){return Object(b.jsx)("tr",Object(o.a)(Object(o.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(b.jsx)("th",Object(o.a)(Object(o.a)({},e.getHeaderProps()),{},{children:e.render("Header")}))}))}))}))}),Object(b.jsx)("tbody",Object(o.a)(Object(o.a)({},r()),{},{children:i.map((function(e){return l(e),Object(b.jsx)("tr",Object(o.a)(Object(o.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(b.jsx)("td",Object(o.a)(Object(o.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))}))]}))},Ue=function(e){var t=e.data,a=e.onSubmit,c=e.validationSchema,r=e.children,s=e.defaultValues,i=Object(H.e)({resolver:Object(Z.a)(c),criteriaMode:"all",mode:"all",reValidateMode:"onChange",defaultValues:Object(n.useMemo)((function(){return s}),[s])});return Object(b.jsx)(H.a,Object(o.a)(Object(o.a)({},i),{},{children:Object(b.jsxs)("form",{onSubmit:i.handleSubmit(a),className:"text-center mt-3 mb-5 rounded-3 p-3",noValidate:!0,children:[t.map((function(e,t){switch(e.type){case"date":case"number":case"password":case"text":return Object(b.jsx)(B,{data:e},e.id);case"phone":return Object(b.jsx)(U,{data:e},e.id);case"email":return Object(b.jsx)(z,{data:e},e.id);case"checkbox":return Object(b.jsx)(V,{data:e},e.id);case"select":return Object(b.jsx)(_,{data:e},e.id);case"ssn":return Object(b.jsx)(W,{data:e},e.id);case"addressWithMailingOption":return Object(b.jsx)(K,{data:e},t);case"income":return Object(b.jsx)($,{data:e},e.id);case"sectionHeader":return Object(b.jsx)(J,{data:e},t);case"UppercaseText":return Object(b.jsx)(Q,{data:e},e.id);case"title":return Object(b.jsx)(Y,{data:e},e.id);default:return Object(b.jsx)("div",{children:"Need to create type for Form component"},t)}})),r,Object(b.jsxs)("div",{className:"d-flex justify-content-evenly pt-3",children:[Object(b.jsx)("input",{type:"submit",className:"btn btn-primary text-white"}),Object(b.jsx)("button",{type:"button",className:"btn btn-primary text-white",onClick:function(){i.reset()},children:"Reset"})]})]})}))},ze=ae.firstName,Ze=ae.lastName,Ve=ae.phone,_e=ae.email,We=ae.username,Ge=ee.c().shape({firstName:ze,lastName:Ze,phone:Ve,email:_e,username:We}),Ke=function(e){var t=e.userData,a=e.loading;return Object(b.jsx)("div",{children:a?Object(b.jsx)(f.a,{icon:"spinner",pulse:!0}):Object(b.jsx)(Ue,{data:[{id:"id",type:"text",label:"User Id",disabled:!0},{id:"email",type:"email",label:"Email"},{id:"firstName",type:"text",label:"First Name"},{id:"lastName",type:"text",label:"Last Name"},{id:"role",type:"select",label:"Role",options:[{value:"ADMINISTRATOR",name:"Admin"},{value:"MEMBER",name:"Member"},{value:"EMPLOYEE",name:"Employee"}],disabled:!0},{id:"username",type:"text",label:"Username"}],defaultValues:t,validationSchema:Ge,onSubmit:function(e){console.log(e)}})})},$e=function(e){var t=e.data,a=Object(n.useState)({userType:null,userData:null,loading:!0}),c=Object(d.a)(a,2),r=c[0],s=c[1],i=Object(n.useMemo)((function(){var e=function(){var e=Object(k.a)(C.a.mark((function e(t){var a,n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(Object(o.a)(Object(o.a)({},r),{},{loading:!0})),t.preventDefault(),a=t.target.getAttribute("data-userid"),e.next=5,D.User.getUserById(a);case 5:n=e.sent,s(Object(o.a)(Object(o.a)({},r),{},{userData:n.data,loading:!1}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return[{Header:"User Id",accessor:"id"},{Header:"First name",accessor:"firstName"},{Header:"Last Name",accessor:"lastName"},{Header:"Username",accessor:"username"},{Header:"Role",accessor:"role"},{Header:"Edit",Cell:function(t){var a=t.cell.row;return Object(b.jsx)("button",{className:"btn btn-primary",onClick:e,"data-bs-toggle":"modal","data-bs-target":"#userEdit","data-userid":a.original.id,children:"Edit"})}}]}),[r]);return Object(b.jsxs)("div",{children:[Object(b.jsx)(Be,{data:t,columns:i}),Object(b.jsx)(Fe,{modalId:"userEdit",title:"Edit",children:Object(b.jsx)(Ke,{userData:r.userData,loading:r.loading})})]})},Je=function(e){var t=e.data,a=e.setPagination,c=Object(n.useState)({isFirst:!1,isLast:!1,canPrevious:!1,canNext:!1}),r=Object(d.a)(c,2),s=r[0],i=r[1];Object(n.useEffect)((function(){i({isFirst:t.first,isLast:t.last,canPrevious:t.number-1>0,canNext:t.number+1<t.totalPages})}),[t]);return Object(b.jsx)("div",{className:"",children:Object(b.jsx)("nav",{"aria-label":"Table Pagination",children:Object(b.jsxs)("ul",{className:"pagination justify-content-center",children:[Object(b.jsx)("li",{className:"page-item ".concat(s.canPrevious?"":"disabled"),"aria-label":"Previous",children:Object(b.jsx)("button",{className:"page-link",onClick:function(e){e.preventDefault(),a({page:0})},children:Object(b.jsx)("span",{"aria-hidden":"true",children:"\xab"})})}),s.canPrevious?Object(b.jsx)("li",{className:"page-item",children:Object(b.jsx)("button",{className:"page-link",onClick:function(e){e.preventDefault(),a({page:t.number-1})},children:t.number})}):"",Object(b.jsx)("li",{className:"page-item active",children:Object(b.jsx)("button",{className:"page-link active",children:t.number+1})}),s.canNext?Object(b.jsx)("li",{className:"page-item",children:Object(b.jsx)("button",{className:"page-link",onClick:function(e){e.preventDefault(),a({page:t.number+1})},children:t.number+2})}):"",Object(b.jsx)("li",{className:"page-item ".concat(s.canNext?"":"disabled"),"aria-label":"Next",children:Object(b.jsx)("button",{className:"page-link",onClick:function(e){e.preventDefault(),a({page:t.totalPages-1})},children:Object(b.jsx)("span",{"aria-hidden":"true",children:"\xbb"})})})]})})})},Qe=function(){var e=Object(n.useState)({page:0}),t=Object(d.a)(e,2),a=t[0],c=t[1],r=function(){var e=Object(k.a)(C.a.mark((function e(){var t,n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.User.getUsers(a);case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=Object(qe.useQuery)(["users",a.page],r,{keepPreviousData:!0,staleTime:5e3}),i=s.data,l=s.error,o=s.isError,u=s.isLoading;return Object(b.jsxs)("div",{className:"w-75 mx-auto my-2 py-3 ",children:[Object(b.jsxs)(w.a,{children:[Object(b.jsx)("title",{children:"User Management"}),Object(b.jsx)("meta",{name:"description",content:"User management for Aline Financial"})]}),Object(b.jsx)("h1",{className:"display-5",children:"Users Management"}),Object(b.jsxs)(Fe,{modalId:"userModal",title:"Create a User",children:[Object(b.jsx)("p",{children:"Select User type to create: "}),Object(b.jsx)(Le,{})]}),Object(b.jsx)("div",{className:"my-2",children:Object(b.jsx)("button",{className:"btn btn-primary ","data-bs-toggle":"modal","data-bs-target":"#userModal",children:Object(b.jsxs)("span",{children:["Create user",Object(b.jsx)(f.a,{icon:"plus",className:"ms-2"})]})})}),Object(b.jsx)("div",{children:u||o?Object(b.jsxs)("div",{children:["table is loading . . .",o?Object(b.jsxs)("span",{children:["error: ",l.message]}):""]}):Object(b.jsxs)("div",{children:[Object(b.jsx)($e,{data:i.content}),Object(b.jsx)(Je,{data:i,setPagination:c})]})})]})},Ye=function(){return Object(b.jsxs)("div",{className:"w-75 mx-auto my-2 py-3",children:[Object(b.jsxs)(w.a,{children:[Object(b.jsx)("title",{children:"Transaction Management"}),Object(b.jsx)("meta",{name:"description",content:"Transaction management for Aline Financial"})]}),Object(b.jsx)("h1",{className:"display-5",children:"Transactions Management"}),Object(b.jsx)(i.b,{className:"btn btn-primary",to:{pathname:"/transaction/create"},children:"Add Transaction"})]})},Xe=ae.transactionType,et=ae.transactionMethod,tt=ae.amount,at=ae.merchantCode,nt=ae.merchantName,ct=ae.accountNumber,rt=ae.transactionDescription,st=ee.c().shape({type:Xe,method:et,amount:tt,merchantCode:at,merchantName:nt,accountNumber:ct,description:rt}),it=function(){var e=function(){var e=Object(k.a)(C.a.mark((function e(t){var a,n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),a=Object(o.a)(Object(o.a)({},t),{},{amount:100*t.amount}),e.prev=2,e.next=5,D.Transaction.create(a);case 5:n=e.sent,console.log(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0.message());case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",{className:"w-75 mx-auto",children:[Object(b.jsxs)(w.a,{children:[Object(b.jsx)("title",{children:"Post Transaction"}),Object(b.jsx)("meta",{name:"description",content:"Post Transaction for Aline Financial"})]}),Object(b.jsx)("h1",{className:"display-5 mb-3 mt-5",children:"Post Transaction"}),Object(b.jsx)("hr",{className:"mb-5"}),Object(b.jsx)(X,{data:[{id:"type",type:"select",label:"Transaction Type",options:[{value:"PURCHASE",name:"Purchase"},{value:"PAYMENT",name:"Payment"},{value:"DEPOSIT",name:"Deposit"},{value:"REFUND",name:"Refund"},{value:"VOID",name:"Void"}]},{id:"method",type:"text",label:"Transaction Method"},{id:"amount",type:"number",label:"Amount"},{id:"merchantCode",type:"UppercaseText",label:"Merchant Code"},{id:"merchantName",type:"text",label:"Merchant Name"},{id:"accountNumber",type:"text",label:"Account number"},{id:"description",type:"text",label:"Transaction Description"}],onSubmit:e,validationSchema:st})]})},lt=function(e){var t=e.number,a=Object(n.useState)({mask:!0}),c=Object(d.a)(a,2),r=c[0],s=c[1],i={original:t,mask:"**********"},l=function(e){e.preventDefault(),s({mask:!r.mask})};return Object(b.jsxs)("div",{className:"d-flex align-items-center justify-content-evenly",children:[r.mask?Object(b.jsx)("div",{children:i.mask}):i.original,Object(b.jsx)("div",{className:"text-primary",children:r.mask?Object(b.jsx)(f.a,{icon:"eye",onClick:l}):Object(b.jsx)(f.a,{icon:"eye-slash",onClick:l})})]})},ot=function(e){var t=e.accountId,a=Object(n.useState)({page:0}),c=Object(d.a)(a,2),r=c[0],s=(c[1],function(){var e=Object(k.a)(C.a.mark((function e(){var a,n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.Transaction.getTransactionByAccountId(t,r);case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),i=Object(qe.useQuery)(["accountTransaction",r.page],s,{keepPreviousData:!0,staleTime:5e3}),l=i.data,o=(i.error,i.isError,i.isLoading),u=Object(n.useMemo)((function(){return[{Header:"ID",accessor:"id"},{Header:"Amount",accessor:"amount"},{Header:"Type",accessor:"Type"},{Header:"Status",accessor:"Status"},{Header:"Vendor",accessor:"merchant"}]}),[]);return Object(b.jsx)("div",{children:o?"Loading":Object(b.jsx)(Be,{data:l.content,columns:u})})},dt=function(e){var t=e.account,a=e.error;return Object(b.jsx)("div",{className:"card",children:a?Object(b.jsx)("div",{className:"card-subtitle lead fw-normal",children:"Error retrieving account"}):Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)("h5",{className:"card-title display-6 lead",children:null===t||void 0===t?void 0:t.type}),Object(b.jsx)("hr",{}),Object(b.jsxs)("h6",{className:"card-subtitle lead fw-normal",children:["Account Number: ",null===t||void 0===t?void 0:t.accountNumber]}),Object(b.jsxs)("h6",{className:"card-subtitle lead fw-normal",children:["Status: ",Object(b.jsx)("span",{className:"text-capitalize",children:null===t||void 0===t?void 0:t.status.toString().toLowerCase()})]}),Object(b.jsx)("br",{}),Object(b.jsxs)("div",{children:["Balance: ",null===t||void 0===t?void 0:t.balance]}),"CHECKING"===(null===t||void 0===t?void 0:t.type)?Object(b.jsxs)("div",{children:["Available Balance: ",t.availableBalance]}):Object(b.jsxs)("div",{children:["APY: ",t.apy]}),Object(b.jsx)("br",{}),Object(b.jsx)(ot,{accountId:t.id})]})})},ut=function(e){var t=e.data,a=Object(n.useState)({view:!1,account:null,error:!1}),c=Object(d.a)(a,2),r=c[0],s=c[1],i=Object(n.useMemo)((function(){var e=function(){var e=Object(k.a)(C.a.mark((function e(t){var a,n,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),s(Object(o.a)(Object(o.a)({},r),{},{view:!1,error:!1})),a=t.target.getAttribute("data-id"),e.prev=3,e.next=6,D.Accounts.getAccountById(a);case 6:n=e.sent,c=n.data,s({account:c,view:!0,error:!1}),console.log(c),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(3),s(Object(o.a)(Object(o.a)({},r),{},{view:!1,error:!0})),console.error(e.t0);case 16:console.log("accountId: ",a);case 17:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}();return[{Header:"Account Number",accessor:"accountNumber",Cell:function(e){var t=e.cell.value;return Object(b.jsx)(lt,{number:t})}},{Header:"Type",accessor:"type"},{Header:"Balance",accessor:"balance"},{Header:"Status",accessor:"status"},{Header:"View",Cell:function(t){var a=t.cell.row.original;return Object(b.jsx)("button",{className:"btn btn-outline-primary","data-id":a.id,onClick:e,children:"View"})}}]}),[r]);return Object(b.jsxs)("div",{children:[Object(b.jsx)(Be,{data:t,columns:i}),r.view?Object(b.jsx)(dt,{account:r.account,error:r.error}):Object(b.jsx)("div",{className:"lead fs-3 fw-normal",children:"Please select Account to view"})]})},bt=function(){var e,t=Object(l.g)(),a=Object(n.useState)({id:null,accounts:null,loading:!0}),c=Object(d.a)(a,2),r=c[0],s=c[1];return Object(n.useEffect)((function(){var e,a=function(){var e=Object(k.a)(C.a.mark((function e(){var a,n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.Accounts.getAccountsByMemberID(t.state.memberId);case 3:a=e.sent,n=a.data,s({id:t.state.memberId,accounts:n.content,loading:!1}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();(null===t||void 0===t||null===(e=t.state)||void 0===e?void 0:e.memberId)&&a()}),[null===t||void 0===t||null===(e=t.state)||void 0===e?void 0:e.memberId]),Object(b.jsxs)("div",{className:"w-75 mx-auto my-2 py-3",children:[Object(b.jsxs)(w.a,{children:[Object(b.jsx)("title",{children:"Member Accounts"}),Object(b.jsx)("meta",{name:"description",content:"Review Member Account"})]}),Object(b.jsx)("h1",{className:"display-5",children:"Member Accounts"}),Object(b.jsx)("div",{className:"mt-4",children:r.loading?Object(b.jsx)(f.a,{icon:"spinner",pulse:!0}):Object(b.jsx)(ut,{data:r.accounts})})]})},mt=ae.searchId,jt=ae.searchName,pt=ae.searchAmount,ht=ee.c().shape({searchName:jt,searchId:mt,accountFloor:pt,accountCeiling:pt}),Ot=function(e){var t=e.onSubmit;return Object(b.jsx)(X,{data:[{id:"searchName",type:"text",label:"First/Middle/Last name"},{id:"searchId",type:"number",label:"Membership/Applicant Id"},{id:"floorAmount",type:"number",label:"Accounts with at least"},{id:"ceilingAmount",type:"number",label:"Accounts with at most"},{id:"hasChecking",type:"checkbox",label:"Members with Checking Accounts"},{id:"hasSavings",type:"checkbox",label:"Members with Savings Accounts"},{id:"isPrimary",type:"checkbox",label:"Primary Account Holders"},{id:"accountStatus",type:"select",label:"Account Status",options:[{value:"",name:"Any"},{value:"active",name:"Active"},{value:"pending",name:"Pending"},{value:"denied",name:"Denied"}]}],onSubmit:t,validationSchema:ht})},xt=ae.firstName,vt=ae.middleName,ft=ae.lastName,gt=ae.income,Nt=ae.phone,yt=ae.email,wt=ae.address,St=ae.city,At=ae.state,Ct=ae.zipcode,kt=ae.mailingAddress,Mt=ae.mailingCity,It=ae.mailingState,Et=ae.mailingZipcode,Tt=ee.c().shape({firstName:xt,middleName:vt,lastName:ft,income:gt,phone:Nt,email:yt,address:wt,city:St,state:At,zipcode:Ct,mailingAddress:kt,mailingCity:Mt,mailingState:It,mailingZipcode:Et}),Rt=function(e){var t=e.memberData,a=e.loading,n=e.membershipId,c=function(){var e=Object(k.a)(C.a.mark((function e(t){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Membership ID from edit form: ",n),a={membershipId:n,email:t.email,firstName:t.firstName,lastName:t.lastName,middleName:t.lastName,phone:t.phone,driversLicense:t.driversLicense,income:t.income,address:t.address,city:t.city,state:t.state,zipcode:t.zipcode,mailingAddress:t.mailingAddress,mailingCity:t.mailingCity,mailingState:t.mailingState,mailingZipcode:t.mailingZipcode},e.prev=2,e.next=5,D.Bank.updateMember(a);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.error("errrrrorrrrr");case 10:window.location.reload();case 11:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsx)("div",{children:a?Object(b.jsx)(f.a,{icon:"spinner",pulse:!0}):Object(b.jsx)(Ue,{data:[{id:"firstName",type:"text",label:"First Name"},{id:"middleName",type:"text",label:"Middle Name"},{id:"lastName",type:"text",label:"Last Name"},{id:"income",type:"income",label:"Income"},{id:"phone",type:"phone",label:"phone"},{id:"email",type:"email",label:"Email"},{id:"address",type:"addressWithMailingOption",label:"Address"}],defaultValues:t,validationSchema:Tt,onSubmit:c})})},Pt=function(e){var t=e.data,a=Object(n.useState)({memberData:null,loading:!0,memberId:null}),c=Object(d.a)(a,2),r=c[0],s=c[1],i=Object(n.useState)({isRedirect:!1,pathname:"/member/accounts",memberId:null}),u=Object(d.a)(i,2),m=u[0],j=u[1],p=Object(n.useMemo)((function(){var e=function(){var e=Object(k.a)(C.a.mark((function e(t){var a,n,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),s(Object(o.a)(Object(o.a)({},r),{},{loading:!0})),a=t.target.getAttribute("data-membership"),e.next=5,D.Bank.getMemberByMembershipId(a);case 5:n=e.sent,c=n.data,s(Object(o.a)(Object(o.a)({},r),{},{memberData:c.applicant,loading:!1,memberId:a}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t=function(e){e.preventDefault();var t=e.target.getAttribute("data-memberid");j(Object(o.a)(Object(o.a)({},m),{},{isRedirect:!0,memberId:t}))};return[{Header:"Membership Id",accessor:"membershipId"},{Header:"First name",accessor:"applicant.firstName"},{Header:"Last name",accessor:"applicant.lastName"},{Header:"Branch City",accessor:"branch.city"},{Header:"Edit",Cell:function(t){var a=t.cell.row;return Object(b.jsx)("button",{className:"btn btn-primary",onClick:e,"data-bs-toggle":"modal","data-bs-target":"#memberEdit","data-membership":a.original.membershipId,children:"Edit"})}},{Header:"Accounts",Cell:function(e){var a=e.cell.row;return Object(b.jsx)("button",{className:"btn btn-secondary","data-memberid":a.original.applicant.id,onClick:t,children:"View"})}}]}),[r,m]);return Object(b.jsxs)("div",{children:[m.isRedirect?Object(b.jsx)(l.a,{push:!0,to:{pathname:m.pathname,state:{memberId:m.memberId}}}):Object(b.jsx)(Be,{data:t,columns:p}),Object(b.jsx)(Fe,{modalId:"memberEdit",title:"Edit Member Details",children:Object(b.jsx)(Rt,{memberData:r.memberData,loading:r.loading,membershipId:r.memberId})})]})},Dt=function(e){var t=Object(qe.useQueryClient)(),a=Object(n.useState)({page:0}),c=Object(d.a)(a,2),r=c[0],s=c[1],l=Object(qe.useMutation)(D.Bank.searchMembers,{onSuccess:function(){t.invalidateQueries(["members",r.page])}}).mutate,u=function(){var e=Object(k.a)(C.a.mark((function e(){var t,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.Bank.searchMembers(Object(o.a)({},r));case 2:return t=e.sent,a=t.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=Object(qe.useQuery)(["members",r.page],u,{keepPreviousData:!0,staleTime:5e3}),j=m.data,p=m.error,h=m.isError,O=m.isLoading,x=Object(n.useRef)(),v=function(){var e=Object(k.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",{className:"w-75 mx-auto my-2 py-3",children:[Object(b.jsxs)(w.a,{children:[Object(b.jsx)("title",{children:"Members Management"}),Object(b.jsx)("meta",{name:"description",content:"Members management for Aline Financial"})]}),Object(b.jsx)("h1",{className:"display-5",children:"Members Management"}),Object(b.jsxs)("div",{className:"mb-5 mt-3",children:[Object(b.jsxs)("div",{className:"d-flex",children:[Object(b.jsx)("button",{type:"button",className:"btn btn-primary rounded-circle rotate me-2","data-bs-toggle":"collapse","data-bs-target":"#searchArea","aria-expanded":"false","aria-controls":"searchArea",ref:x,onClick:function(){x.current.classList.toggle("rotate-180")},children:Object(b.jsx)(f.a,{icon:"chevron-up",rotation:180})}),Object(b.jsx)("div",{children:Object(b.jsx)("h2",{className:"fs-4 fw-normal me-3",children:"Search"})})]}),Object(b.jsx)("div",{className:"collapse pt-2",id:"searchArea",children:Object(b.jsx)(Ot,{onSubmit:v})})]}),Object(b.jsx)("div",{className:"text-start",children:Object(b.jsxs)(i.b,{className:"btn btn-primary mb-3 ",to:{pathname:"/member/create"},children:["Add Member",Object(b.jsx)(f.a,{icon:"plus"})]})}),Object(b.jsx)("div",{children:O||h?Object(b.jsxs)("div",{children:["table is loading . . .",h?Object(b.jsxs)("span",{children:["error: ",p.message]}):""]}):Object(b.jsxs)("div",{children:[Object(b.jsx)(Pt,{data:j.content}),Object(b.jsx)(Je,{data:j,setPagination:s})]})})]})},Ft=a(296),Lt=Object(n.createContext)({client:null,connect:function(){}});function qt(e){var t=e.children,a=Object(n.useState)(),c=Object(d.a)(a,2),r=c[0],s=c[1],i=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_BASEURL:"http://localhost:8080",REACT_APP_TOKEN_NAME:"RATN"}).REACT_APP_BROKER_URL;return Object(b.jsx)(Lt.Provider,{value:{client:r,connect:function(e,t){var a;console.log("Context Trying to connect...");var n={brokerURL:i,debug:function(e){console.log("Debug: ",e)},connectHeaders:{username:"username"},onConnect:function(){console.log("Trying to subscribe ..."),a.subscribe("/topic/public",(function(e){console.log("message from subscribe: ",e),t(e)}))}};(a=new Ft.a(n)).onStompError(e),a.activate(),s(a)}},children:t})}var Ht=function(e){var t=e.changeStatus,a=h().user,c=Object(n.useState)({name:a}),r=Object(d.a)(c,2),s=r[0],i=r[1],l=Object(n.useState)({msg:""}),o=Object(d.a)(l,2),u=o[0],m=o[1],j=Object(n.useState)({list:[]}),p=Object(d.a)(j,2),O=p[0],x=p[1],v=function(){var e=Object(n.useContext)(Lt);return{client:e.client,connect:e.connect,onConnect:e.onConnect}}(),f=v.client,g=v.connect,N=Object(n.createRef)(),y=Object(n.createRef)(),w=Object(n.createRef)(),S=Object(n.createRef)(),A=Object(n.createRef)(),C=Object(n.createRef)(),k=Object(n.createRef)(),M=function(e){console.error(e)},I=function(e){console.log("Msg received Payload: ",e);var t=JSON.parse(e.body);console.log("Parsed Body from message received ",t);var a=O.list;a.push(t),x({list:a})};return Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{id:"username-page",ref:N,children:Object(b.jsxs)("div",{className:"username-page-container",children:[Object(b.jsx)("h1",{className:"lead fs-3 mb-3",children:"Type your username"}),Object(b.jsxs)("div",{id:"usernameForm",className:"usernameForm",ref:w,children:[Object(b.jsx)("div",{className:"form-group mb-2",children:Object(b.jsx)("input",{type:"text",id:"name",placeholder:"Username",autoComplete:"off",className:"form-control",value:s.name,onChange:function(e){i({name:e.target.value})}})}),Object(b.jsx)("div",{className:"form-group",children:Object(b.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:function(e){e.preventDefault(),console.log("logging on"),console.log("user",a),t(),s&&(N.current.classList.add("d-none"),y.current.classList.remove("d-none"),g(M,I))},children:"Start Chatting"})})]})]})}),Object(b.jsx)("div",{id:"chat-page",className:"d-none",ref:y,children:Object(b.jsxs)("div",{className:"chat-container",children:[Object(b.jsx)("div",{className:"lead fs-4",ref:k,children:"Connecting..."}),Object(b.jsx)("ul",{id:"messageArea",ref:C,children:O.list?O.list.map((function(e,t){return Object(b.jsxs)("li",{children:[Object(b.jsxs)("span",{style:{color:"white",backgroundColor:"black",padding:"5px"},children:["sender: ",e.sender]})," ",e.content]},t)})):Object(b.jsx)("div",{children:"No messages yet"})}),Object(b.jsx)("div",{id:"messageForm",className:"messageForm",ref:S,children:Object(b.jsx)("div",{className:"form-group",children:Object(b.jsxs)("div",{className:"input-group clearfix",children:[Object(b.jsx)("input",{type:"text",id:"message",placeholder:"Type a message...",autoComplete:"off",className:"form-control",ref:A,value:u.msg,onChange:function(e){m({msg:e.target.value})}}),Object(b.jsx)("button",{type:"button",className:"btn btn-outline-dark",onClick:function(e){e.preventDefault(),console.log("begin send msg....");var t={sender:s.name,content:u.msg,type:"CHAT"};f.publish({destination:"/app/chat.sendMessage",body:JSON.stringify(t)}),m({msg:""})},children:"Send"})]})})})]})})]})},Bt=function(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),a=t[0],c=t[1],r=Object(n.useRef)();Object(n.useEffect)((function(){var e=r.current;a?(e.classList.remove("bg-danger"),e.classList.add("bg-success")):(e.classList.remove("bg-success"),e.classList.add("bg-danger"))}),[a]);return Object(b.jsxs)("div",{className:"w-75 mx-auto my-2 py-3",children:[Object(b.jsxs)(w.a,{children:[Object(b.jsx)("title",{children:"Chat"}),Object(b.jsx)("meta",{name:"description",content:"Chat"})]}),Object(b.jsxs)("div",{className:"display-5 position-relative",children:["Chat",Object(b.jsx)("span",{ref:r,className:"position-absolute top-50\r translate-middle p-2 ms-3 mt-1 bg-danger border border-light rounded-circle",children:Object(b.jsx)("span",{className:"visually-hidden",children:"chat status"})})]}),Object(b.jsx)(qt,{children:Object(b.jsx)(Ht,{changeStatus:function(){c(!a)}})})]})},Ut=a(137),zt=(a(278),function(){return Object(b.jsxs)("nav",{children:[Object(b.jsx)(i.c,{exact:!0,to:"/",activeClassName:"font-bold",className:"text-white nav-link mb-auto",children:"Home"}),[{link:"/user",display:"Users"},{link:"/member",display:"Members"},{link:"/transaction",display:"Transactions"},{link:"/account",display:"Accounts"},{link:"/chat",display:"Chat"}].map((function(e){return Object(b.jsx)(i.c,{to:e.link,activeClassName:"font-bold",className:"nav-link text-white ",children:e.display},e.link)}))]})}),Zt=function(){var e=Object(n.useState)({width:void 0,height:void 0}),t=Object(d.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){var e=function(){c({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",e),e(),function(){window.removeEventListener("resize",e)}}),[]),a},Vt=(a(279),function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){if("RecentActions"in localStorage){var e=JSON.parse(localStorage.getItem("RecentActions"));e.length=2,c(Object(v.a)(e))}else c([x[0],x[1]])}),[]),Object(b.jsxs)("footer",{className:"quick-menu d-flex flex-column-reverse",children:[Object(b.jsx)("button",{className:"btn btn-outline-dark rounded-circle quick-menu-more",children:Object(b.jsx)(f.a,{icon:"ellipsis-v"})}),Object(b.jsxs)("div",{className:"quick-menu-items d-flex flex-column-reverse",children:[Object(b.jsx)(i.b,{className:"btn btn-outline-dark rounded-circle mb-2",to:{pathname:"/"},children:Object(b.jsx)(f.a,{icon:"home"})}),a.map((function(e,t){return Object(b.jsx)(i.b,{className:"btn btn-outline-dark rounded-circle mb-2",to:{pathname:e.link,state:null===e||void 0===e?void 0:e.state},children:Object(b.jsx)(f.a,{icon:e.icon})},t)}))]})]})}),_t=function(e){var t=e.children,a=Object(n.createRef)(),c=Zt(),r="is-nav-open",s=Object(n.createRef)(),i=Object(n.createRef)(),l=h().logoutMethod;return Object(n.useEffect)((function(){var e,t,n=a.current,l=i.current,o=["position-absolute","bottom-0","start-50","translate-middle"];c.width>=768&&!n.classList.contains(r)&&(n.classList.add(r),l.classList.add(r)),c.width<768&&n.classList.contains(r)&&(n.classList.remove(r),l.classList.remove(r)),c.height>400?(e=s.current.classList).add.apply(e,o):(t=s.current.classList).remove.apply(t,o)}),[c,a,s,i]),Object(b.jsxs)("div",{className:"d-flex flex-md-row flex-column position-relative min-vh-100",children:[Object(b.jsx)("nav",{className:"d-flex navbar w-100 navbar-dark bg-dark d-md-none ","data-testid":"mobileMenu",children:Object(b.jsxs)("div",{className:"container-fluid",children:[Object(b.jsx)("a",{href:"/",className:"navbar-brand",children:"Aline"}),Object(b.jsx)("button",{className:"navbar-toggler",onClick:function(){a.current.classList.toggle(r)},"data-testid":"mobileToggle",children:Object(b.jsx)("span",{className:"navbar-toggler-icon"})})]})}),Object(b.jsxs)("div",{ref:a,className:"d-flex min-vh-100 position-absolute position-fixed flex-column p-3 text-white bg-dark px-2 sidebar is-nav-open",id:"SidebarContent",children:[Object(b.jsx)("a",{href:"/",className:"align-items-center mb-3 mb-md-0 me-md-auto text-white text-decoration-none",children:Object(b.jsx)("span",{className:"fs-4",children:"Aline Financial"})}),Object(b.jsx)("hr",{}),Object(b.jsx)("div",{className:"nav nav-pills flex-column overflow-auto",children:Object(b.jsx)(zt,{})}),Object(b.jsxs)("div",{ref:s,className:"dropdown ",children:[Object(b.jsx)("hr",{className:"w-100"}),Object(b.jsxs)("a",{href:"/",className:"d-flex align-items-center text-white text-decoration-none dropdown-toggle",id:"navProfileDropdown","data-bs-toggle":"dropdown","aria-expanded":"false",role:"button",children:[Object(b.jsx)("span",{children:Object(b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"16",width:"16",fill:"currentColor",className:"bi me-1",children:[Object(b.jsx)("path",{d:"M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z"}),Object(b.jsx)("path",{d:"M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52l-.094-.319zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115l.094-.319z"})]})}),Object(b.jsx)("strong",{children:"Settings"})]}),Object(b.jsxs)("ul",{className:"dropdown-menu dropdown-menu-dark dropdown-menu-start text-small shadow","aria-labelledby":"navProfileDropdown",children:[Object(b.jsx)("li",{children:Object(b.jsx)("a",{className:"dropdown-item",href:"/",children:"Profile"})}),Object(b.jsx)("li",{children:Object(b.jsx)("hr",{className:"dropdown-divider"})}),Object(b.jsx)("li",{children:Object(b.jsx)("button",{className:"dropdown-item",onClick:l,children:"Sign out"})})]})]})]}),Object(b.jsx)("div",{ref:i,className:"flex-grow-1 content is-nav-open",children:t}),Object(b.jsx)(Vt,{})]})},Wt=["component"],Gt=function(e){var t=e.component,a=Object(Ut.a)(e,Wt),c=h(),r=c.loggedIn,s=c.authority,i=Object(n.useState)(!0),u=Object(d.a)(i,2),m=u[0],p=u[1],O={updateUser:Object(n.useContext)(j).updateUser}.updateUser;return Object(n.useEffect)((function(){!r&&"RATN"in localStorage&&O(),console.log(s),p(!1)}),[s]),Object(b.jsx)("div",{className:"w-100",children:m?Object(b.jsx)("div",{children:"I'm Loading"}):Object(b.jsx)(_t,{children:Object(b.jsx)(l.b,Object(o.a)(Object(o.a)({},a),{},{render:function(e){return r?Object(b.jsx)(t,Object(o.a)({},e)):Object(b.jsx)(l.a,{to:"/login"})}}))})})},Kt=(a(280),a(38)),$t=a(136),Jt=a(27);var Qt=function(){return Kt.b.add($t.a,Jt.g,Jt.a,Jt.e,Jt.i,Jt.j,Jt.k,Jt.b,Jt.f,Jt.h,Jt.c,Jt.d),Object(b.jsx)("div",{children:Object(b.jsx)(O,{children:Object(b.jsxs)(i.a,{children:[Object(b.jsxs)(w.a,{children:[Object(b.jsx)("title",{children:"Admin | Aline Financial"}),Object(b.jsx)("meta",{name:"description",content:"Administrative Dashboard for Aline Financial"})]}),Object(b.jsxs)(l.d,{children:[Object(b.jsx)(l.b,{exact:!0,path:"/login",component:L}),Object(b.jsx)(Gt,{exact:!0,path:"/",component:S}),Object(b.jsx)(Gt,{path:"/user/create",component:pe}),Object(b.jsx)(Gt,{path:"/user",component:Qe}),Object(b.jsx)(Gt,{path:"/member/accounts",component:bt}),Object(b.jsx)(Gt,{path:"/member/create",component:De}),Object(b.jsx)(Gt,{path:"/member",component:Dt}),Object(b.jsx)(Gt,{path:"/transaction/create",component:it}),Object(b.jsx)(Gt,{path:"/transaction",component:Ye}),Object(b.jsx)(Gt,{path:"/chat",component:Bt}),Object(b.jsx)(l.b,{path:"*",component:q})]})]})})})},Yt=(a(291),new qe.QueryClient);s.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(qe.QueryClientProvider,{client:Yt,children:Object(b.jsx)(Qt,{})})}),document.getElementById("root"))}},[[292,1,2]]]);
//# sourceMappingURL=main.a84d929c.chunk.js.map